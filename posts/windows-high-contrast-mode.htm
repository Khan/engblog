<!DOCTYPE html> <html> <head> <title>Making Websites Work with Windows High Contrast Mode | Khan Academy Engineering</title> <link rel="icon" href="/images/favicon.ico"> <meta http-equiv="Content-Type" content="text/html;charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="We're the engineers behind Khan Academy. We're building a free, world-class education for anyone, anywhere.">  <style>#left-bar .logo,body{font-family:Lato,'Helvetica Neue',Arial,sans-serif;src:url(https://fonts.googleapis.com/css?family=Lato)}#left-bar,#left-bar .logo a{color:#FFF}#left-bar .bio a,#left-bar .logo a{text-decoration:none}#left-bar .logo,#left-bar .subscription-info{text-align:left}body,html{height:100%;margin:0}body{background-color:#F7F8FA;font-size:14px;width:920px}@media (min-width:920px){body{font-size:16px}}@media (max-width:920px){body{width:100%}body.mobile-menu-visible{background-color:#0A2A66}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.inline-author-photo{height:1.6em;width:1.6em;border-radius:.8em;vertical-align:middle;margin-right:4px}.font-awesome-svg{width:1em;height:1em;display:inline-block}#left-bar{box-sizing:border-box;display:table-cell;background-color:#0A2A66;min-width:325px;padding:10px 35px 35px}@media (max-width:920px){#left-bar{display:block;width:100%;padding:0 20px}#left-bar.mobile-visible{padding-bottom:60px}#left-bar:not(.mobile-visible) section{display:none}}#left-bar .logo{font-size:28px;letter-spacing:1px;line-height:1em;margin-bottom:6px;margin-left:-2px;margin-top:0;text-transform:uppercase}#left-bar .logo.mobile{font-size:24px;display:none}@media (max-width:920px){#left-bar .logo.mobile{display:block}#left-bar .logo.mobile a{padding:11px 20px 15px;margin:0 -20px -15px;display:block;text-decoration:none;color:#FFF}#left-bar .logo.mobile svg{opacity:.8;margin-right:-2px;margin-top:1px;height:25px}#left-bar .logo.mobile .text,#left-bar .logo.mobile svg{vertical-align:middle}#left-bar .logo{display:none}}#left-bar .logo .engineering{color:#00E5AE}#left-bar .bio{font-size:12px;line-height:1.4;margin-top:10px}#left-bar .bio,#left-bar .bio *{color:#FFF}#left-bar .bio a:hover{text-decoration:underline}#left-bar .subscription-info .links{font-size:24px}#left-bar .subscription-info .links a{margin-right:7px;text-decoration:none;color:#FFF}#left-bar .subscription-info .links a:hover{border-bottom:1px solid #FFF}#left-bar .subscription-info .links .email{margin-top:-1px}#left-bar .section-heading{color:#F7F8FA;font-size:12px;font-weight:300;letter-spacing:.5px;margin-top:40px;text-transform:lowercase}#left-bar .post-blurb{margin-top:30px;padding-bottom:4px;border-left:1px solid transparent;padding-left:10px;margin-left:-10px;font-size:14px}@media (max-width:920px){#left-bar .post-blurb{border-left:10px solid transparent;padding-left:17px;margin-left:-26px}}#left-bar .post-blurb:first-of-type{margin-top:20px}#left-bar .post-blurb.team-infrastructure{border-color:#E57281}#left-bar .post-blurb.team-web-frontend{border-color:#63BBD9}#left-bar .post-blurb.team-mobile{border-color:#63BB81}#left-bar .post-blurb.team-eng-leads{border-color:#ccc}#left-bar .post-blurb.team-design{border-color:#ab59c6}#left-bar .post-blurb.team-wtf{border-color:#ff00af}#left-bar .post-blurb.team-content-platform{border-color:#ffbf00}#left-bar .post-blurb .title{font-weight:400;margin:0 0 9px}#left-bar .post-blurb .title a{color:#FFF;text-decoration:none}#left-bar .post-blurb .title a:hover{text-decoration:underline}#left-bar .post-blurb .info{font-size:12px}#left-bar .post-blurb .info .author-link{color:#FFF;text-decoration:none;font-weight:700;font-size:11px}#left-bar .post-blurb .info .author-link:hover{text-decoration:underline}#left-bar .meta-section .link-list{margin:0 0 0 4px;padding:0;list-style-type:square}#left-bar .meta-section .link-list li{margin-bottom:10px}#left-bar .meta-section .link-list li a{margin-left:-4px}#left-bar .meta-section .link-list a{color:#FFF;text-decoration:none}#left-bar .meta-section .link-list a:hover{text-decoration:underline}#content{display:table-cell;padding:10px 35px 35px 50px;color:#21242C}@media (max-width:920px){#left-bar .meta-section .link-list{list-style-type:none}#content{padding:10px 20px 50px;display:block}#content.mobile-hidden{display:none}}#content .title a{letter-spacing:1px;margin-bottom:8px;font-size:1.265625em;line-height:1;color:#21242C;text-decoration:none}@media (min-width:920px){#content .title a{font-size:1.5625em}}#content .title a:focus,#content .title a:hover{text-decoration:underline}#content .info .author-link{color:#21242C;font-weight:700;text-decoration:none}#content .info .author-link:hover{text-decoration:underline}#content .info .team-tag{border-radius:.3em;padding:.3em .8em;font-size:.7em;font-weight:500;display:inline-block;color:#fff;margin-left:4px;margin-right:4px}#content .info .team-tag.web-frontend{background-color:#63BBD9}#content .body{margin-top:30px;line-height:1.5;width:580px}@media (max-width:920px){#content .body{width:100%}}#content .body a{color:#1865f2;text-decoration:none}#content .body a:hover{text-decoration:underline}#content .body img{max-width:100%}#content .keep-reading-buttons{display:table;margin-top:30px;width:100%}#content .keep-reading-buttons .keep-reading-cell{display:table-cell;margin:0;padding:0;vertical-align:top;width:50%}progress,sub,sup{vertical-align:baseline}#content .keep-reading-buttons .keep-reading-right{text-align:right}#content .keep-reading-buttons .button{padding:3px 0;display:inline-block;max-width:90%;color:#21242C}.align-center,details{display:block}#content .keep-reading-buttons .button .header{font-size:12px;color:rgba(33,36,44,.64)}#content .keep-reading-buttons .button .post-title{margin-top:8px;color:#1865f2;text-decoration:none;display:block}#content .keep-reading-buttons .button .post-title:hover,abbr[title]{text-decoration:underline}#content .keep-reading-buttons .button.next-post-button{border-right:2px solid;padding-right:10px;margin-right:-10px}#content .keep-reading-buttons .button.prev-post-button{border-left:2px solid;padding-left:10px;margin-left:-10px}#content .keep-reading-buttons .button.team-infrastructure{border-color:#E57281}#content .keep-reading-buttons .button.team-web-frontend{border-color:#63BBD9}#content .keep-reading-buttons .button.team-mobile{border-color:#63BB81}#content .keep-reading-buttons .button.team-eng-leads{border-color:#ccc}#content .keep-reading-buttons .button.team-design{border-color:#ab59c6}#content .keep-reading-buttons .button.team-wtf{border-color:#ff00af}#content .keep-reading-buttons .button.team-content-platform{border-color:#ffbf00}#content .footnote-text{font-size:12px;line-height:normal}.code,.codehilite{background-color:#EEE;border-radius:6px;border:1px solid #CCC;overflow-x:auto;padding:6px;margin:14px 0}.code .ln,.codehilite .ln{color:#AAA}.label{margin-top:1.5em}.caption{text-align:center;font-style:italic}caption,table.data-table th{text-align:left}.align-center{margin-left:auto;margin-right:auto}.literal,code{word-wrap:break-word}caption,figcaption{font-style:italic}caption{caption-side:bottom}table.data-table{margin:0 auto}table.data-table td{text-align:right}table.data-table td,table.data-table th{padding:0 5px;white-space:nowrap}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}.x-scrollable{overflow-x:auto}button,hr,input{overflow:visible}.pullquote{text-align:center;margin-left:58px;margin-right:58px;font-size:24px;font-style:italic;color:#777}/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{color:inherit;display:table;max-width:100%;white-space:normal}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.c,.c1,.cm,.cs,.ge{font-style:italic}.cp,.cs,.gs,.k,.kc,.kd,.kn,.kp,.kr,.kt,.nc,.ne,.nf,.o,.ow{font-weight:700}summary{display:list-item}[hidden],template{display:none}.hll{background-color:#ffc}.c{color:#998}.err{color:#a61717;background-color:#e3d2d2}.cm{color:#998}.cp{color:#999}.c1{color:#998}.cs{color:#999}.gd{color:#000;background-color:#fdd}.gr{color:#a00}.gh{color:#999}.gi{color:#000;background-color:#dfd}.go{color:#888}.gp{color:#555}.gu{color:#aaa}.gt{color:#a00}.kt{color:#458}.m{color:#099}.s{color:#b84}.na{color:teal}.nb{color:#999}.nc{color:#458}.no{color:teal}.ni{color:purple}.ne,.nf{color:#900}.nn{color:#555}.nt{color:navy}.nv{color:teal}.w{color:#bbb}.mf,.mh,.mi,.mo{color:#099}.s2,.sb,.sc,.sd,.se,.sh,.si,.sx{color:#b84}.sr{color:olive}.s1,.ss{color:#b84}.bp{color:#999}.vc,.vg,.vi{color:teal}.il{color:#099}</style>  </head> <body> <div id="left-bar"> <h1 class="logo"> <a href="/"><span aria-label="Khan Academy">Khan</span> <span class="engineering">Engineering</span></a> </h1> <h1 class="logo mobile">  <a id="mobile-menu-button" href="javascript: void 0"> <svg class="font-awesome-svg" viewbox="0 0 1792 1792" aria-hidden="true"><path d="M1664 1344v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45z" fill="#fff"/></svg> <span class="text"><span aria-label="Khan Academy">Khan</span> <span class="engineering">Engineering</span></span> </a> </h1> <section class="bio"> We're the engineers behind <a href="https://www.khanacademy.org">Khan Academy</a>. We're building a free, world-class education for anyone, anywhere. </section> <section class="subscription-info"> <h2 class="section-heading">Subscribe</h2> <div class="links"> <a href="https://twitter.com/KhanAcademyEng"><span class="sr-only">Subscribe with Twitter</span><svg class="font-awesome-svg" viewbox="0 0 1792 1792" aria-hidden="true"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z" fill="#fff"/></svg></a> <a href="/rss.xml"><span class="sr-only">Subscribe with RSS</span><svg class="font-awesome-svg" viewbox="0 0 1792 1792" aria-hidden="true"><path d="M576 1344q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm512 123q2 28-17 48-18 21-47 21h-135q-25 0-43-16.5t-20-41.5q-22-229-184.5-391.5t-391.5-184.5q-25-2-41.5-20t-16.5-43v-135q0-29 21-47 17-17 43-17h5q160 13 306 80.5t259 181.5q114 113 181.5 259t80.5 306zm512 2q2 27-18 47-18 20-46 20h-143q-26 0-44.5-17.5t-19.5-42.5q-12-215-101-408.5t-231.5-336-336-231.5-408.5-102q-25-1-42.5-19.5t-17.5-43.5v-143q0-28 20-46 18-18 44-18h3q262 13 501.5 120t425.5 294q187 186 294 425.5t120 501.5z" fill="#fff"/></svg></a> </div> </section> <section> <h2 class="section-heading">Latest posts</h2> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/upgrade-buttons-links.htm">How to upgrade hundreds of React components without breaking production</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/jangmi-jo.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/jangmi-jo">Jangmi Jo</a> on September 23<sup aria-hidden="true">rd</sup> </div> </div> <div class="post-blurb team-engineering"> <h3 class="title"> <a href="/posts/eng-principles-help-scale.htm">How Engineering Principles Can Help You Scale</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/marta.jpg" aria-hidden="true" role="presentation"> <a class="author-link">Marta Kosarchyn</a> on August 21<sup aria-hidden="true">st</sup> </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/windows-high-contrast-mode.htm">Making Websites Work with Windows High Contrast Mode</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/diedra.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/dierat">Diedra Rater</a> on March 21<sup aria-hidden="true">st</sup> </div> </div> <div class="post-blurb team-content-platform"> <h3 class="title"> <a href="/posts/kotlin-for-python-developers.htm">Kotlin for Python developers</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/aasmundeldhuset.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://eldhuset.net/">Aasmund Eldhuset</a> on Nov 29, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/using-static-analysis-in-Python-and-JavaScript-to-make-your-system-safer.htm">Using static analysis in Python, JavaScript and more to make your system safer</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kevindangoor.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://blueskyonmars.com/">Kevin Dangoor</a> on Jul 26, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/kotlin-adoption.htm">Kotlin on the server at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/colin.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/cjfuller">Colin Fuller</a> on Jun 28, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/original-serverless.htm">The Original Serverless Architecture is Still Here</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kevindangoor.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://blueskyonmars.com/">Kevin Dangoor</a> on May 31, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/architects-at-khan.htm">What do software architects at Khan Academy do?</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kevindangoor.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://blueskyonmars.com/">Kevin Dangoor</a> on May 14, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/khanalytics.htm">New data pipeline management platform at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/ragini.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/guptaragini">Ragini Gupta</a> on Apr 30, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/python-refactor-3.htm">Untangling our Python Code</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/carter.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://carterjbastian.com/">Carter J. Bastian</a> on Apr 16, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/slicker.htm">Slicker: A Tool for Moving Things in Python</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/ben-kraft.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.benkraft.org/">Ben Kraft</a> on Apr 2, 2018 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/python-refactor-1.htm">The Great Python Refactor of 2017 And Also 2018</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on Mar 19, 2018 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/working-remotely.htm">Working Remotely</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/scottgrant.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/scotchfield">Scott Grant</a> on Oct 2, 2017 </div> </div> <div class="post-blurb team-mobile"> <h3 class="title"> <a href="/posts/tips-for-code-reviews.htm">Tips for giving your first code reviews</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/hannah.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://hannahblumberg.com/">Hannah Blumberg</a> on Sep 18, 2017 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/lets-reduce.htm">Let&#x27;s Reduce! A Gentle Introduction to Javascript&#x27;s Reduce Method</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/joshcomeau.jpeg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/joshwcomeau">Josh Comeau</a> on Jul 10, 2017 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/creating-query-components-with-apollo.htm">Creating Query Components with Apollo</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/brian-genisio.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/BrianGenisio">Brian Genisio</a> on Jun 12, 2017 </div> </div> <div class="post-blurb team-mobile"> <h3 class="title"> <a href="/posts/react-native-monorepo.htm">Migrating to a Mobile Monorepo for React Native</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/jared.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://jaredforsyth.com/">Jared Forsyth</a> on May 29, 2017 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/memcached-fms.htm">Memcached-Backed Content Infrastructure</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/ben-kraft.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.benkraft.org/">Ben Kraft</a> on May 15, 2017 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/memcached-profiling.htm">Profiling App Engine Memcached</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/ben-kraft.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.benkraft.org/">Ben Kraft</a> on May 1, 2017 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/flex-language-shootout.htm">App Engine Flex Language Shootout</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/amos-latteier.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/latteier">Amos Latteier</a> on Apr 17, 2017 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/new-oss-activity.htm">What&#x27;s New in OSS at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/brian-genisio.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/BrianGenisio">Brian Genisio</a> on Apr 3, 2017 </div> </div> <div class="post-blurb team-mobile"> <h3 class="title"> <a href="/posts/automating-app-store-screenshots.htm">Automating App Store Screenshots</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/bryanclark.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.bryanjclark.com/">Bryan Clark</a> on Mar 27, 2017 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/its-okay-to-break-things.htm">It&#x27;s Okay to Break Things: Reflections on Khan Academy&#x27;s Healthy Hackathon</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kimeriegreen.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/Kimerie">Kimerie Green</a> on Mar 6, 2017 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/interning-at-khan-academy.htm">Interning at Khan Academy: from student to intern</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/shadajladdad.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://shadaj.me">Shadaj Laddad</a> on Dec 12, 2016 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/prototyping-with-framer.htm">Prototyping with Framer</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/nickbreen.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/MrNickBreen">Nick Breen</a> on Oct 3, 2016 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/evolving-our-content-infrastructure.htm">Evolving our content infrastructure</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/wchargin.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://wchargin.github.io">William Chargin</a> on Sep 19, 2016 </div> </div> <div class="post-blurb team-mobile"> <h3 class="title"> <a href="/posts/a-really-small-app.htm">Building a Really, Really Small Android App</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/charliemarsh.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.crmarsh.com">Charlie Marsh</a> on Aug 22, 2016 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/a-case-for-time-tracking.htm">A Case for Time Tracking: Data Driven Time-Management</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/olivernorthwood.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/allofthenorthwood">Oliver Northwood</a> on Aug 8, 2016 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/time-management-multiple-authors.htm">Time Management at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/khanacademy.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://www.khanacademy.org/careers">Several Authors</a> on Jul 25, 2016 </div> </div> <div class="post-blurb team-eng-leads"> <h3 class="title"> <a href="/posts/healthy-hackathons.htm">Hackathons Can Be Healthy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/tomyedwab.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.arguingwithalgorithms.com">Tom Yedwab</a> on Jul 11, 2016 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/transaction-safety.htm">Ensuring transaction-safety in Google App Engine</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on Jun 27, 2016 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/user-write-lock.htm">The User Write Lock: an Alternative to Transactions for Google App Engine</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on Jun 20, 2016 </div> </div> <div class="post-blurb team-eng-leads"> <h3 class="title"> <a href="/posts/engineering-principles.htm">Khan Academy&#x27;s Engineering Principles</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/benkamens.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://bjk5.com">Ben Kamens</a> on Jun 6, 2016 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/shortest-regex.htm">Minimizing the length of regular expressions, in practice</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on May 23, 2016 </div> </div> <div class="post-blurb team-mobile"> <h3 class="title"> <a href="/posts/introducing-swifttweaks.htm">Introducing SwiftTweaks</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/bryanclark.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.bryanjclark.com/">Bryan Clark</a> on May 9, 2016 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/autonomous-dumbledore.htm">The Autonomous Dumbledore</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/evykassirer.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://www.evykassirer.com/">Evy Kassirer</a> on Apr 25, 2016 </div> </div> <div class="post-blurb team-eng-leads"> <h3 class="title"> <a href="/posts/career-development.htm">Engineering career development at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/beneater.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/beneater">Ben Eater</a> on Apr 11, 2016 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/aphrodite-inline-css.htm">Inline CSS at Khan Academy: Aphrodite</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/jamiewong.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://jamie-wong.com">Jamie Wong</a> on Mar 29, 2016 </div> </div> <div class="post-blurb team-mobile"> <h3 class="title"> <a href="/posts/starting-android.htm">Starting Android at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/benkomalo.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/benkomalo">Ben Komalo</a> on Feb 29, 2016 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/translation_assistant.htm">Automating Highly Similar Translations</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kevinbarabash.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/kevinb7">Kevin Barabash</a> on Feb 15, 2016 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/snippet-server.htm">The weekly snippet-server: open-sourced</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on Feb 1, 2016 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/stories-from-interns.htm">Stories from our latest intern class</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/khanacademy.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://www.khanacademy.org/careers/interns">2015 Interns</a> on Dec 21, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/kanbanning-learnstorm-dev-process.htm">Kanbanning the LearnStorm Dev Process</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kevindangoor.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://blueskyonmars.com/">Kevin Dangoor</a> on Dec 7, 2015 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/js-packaging-http2.htm">Forgo JS packaging? Not so fast</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on Nov 23, 2015 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/switching-to-slack.htm">Switching to Slack</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/benjaminpollack.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://bitquabit.com/">Benjamin Pollack</a> on Nov 9, 2015 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/receiving-feedback.htm">Receiving feedback as an intern at Khan Academy</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/davidwang.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://ourracingthoughts.com/author/d15w/">David Wang</a> on Oct 26, 2015 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/translation-server.htm">Schrödinger&#x27;s deploys no more: how we update translations</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/chelseavoss.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://csvoss.github.io/">Chelsea Voss</a> on Oct 12, 2015 </div> </div> <div class="post-blurb team-infrastructure"> <h3 class="title"> <a href="/posts/i18nize-templates.htm">i18nize-templates: Internationalization After the Fact</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/csilvers.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/csilvers">Craig Silverstein</a> on Sep 28, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/making-thumbnails-fast.htm">Making thumbnails fast</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/wchargin.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://wchargin.github.io">William Chargin</a> on Sep 14, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/copy-pasting-more-than-just-text.htm">Copy-pasting more than just text</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/samlau.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/SamLau95">Sam Lau</a> on Aug 31, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/no-cheating-allowed.htm">No cheating allowed!!</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/philliplemons.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://philliplemons.com/">Phillip Lemons</a> on Aug 17, 2015 </div> </div> <div class="post-blurb team-design"> <h3 class="title"> <a href="/posts/fun-with-slopfields.htm">Fun with slope fields, css and react</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/marcosojeda.jpg" aria-hidden="true" role="presentation"> <a class="author-link" href="http://generic.cx/">Marcos Ojeda</a> on Aug 5, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/new-employees-primer.htm">Khan Academy: a new employee&#x27;s primer</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/rileyshaw.png" aria-hidden="true" role="presentation"> <a class="author-link" href="http://rileyjshaw.com">Riley Shaw</a> on Jul 20, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/evil-puzzle.htm">How wooden puzzles can destroy dev teams</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/johnsullivan.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/brownhead">John Sullivan</a> on Jul 6, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/i18n-babel-plugin.htm">Babel in Khan Academy&#x27;s i18n Toolchain</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/kevinbarabash.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/kevinb7">Kevin Barabash</a> on Jun 22, 2015 </div> </div> <div class="post-blurb team-web-frontend"> <h3 class="title"> <a href="/posts/tota11y.htm">tota11y - an accessibility visualization toolkit</a> </h3> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/jordanscales.png" aria-hidden="true" role="presentation"> <a class="author-link" href="https://github.com/jdan">Jordan Scales</a> on Jun 8, 2015 </div> </div> </section> <section class="meta-section"> <h2 class="section-heading">Meta</h2> <ul class="link-list"> <li><a href="https://github.com/Khan/engblog">About this blog</a></li> <li><a href="https://www.khanacademy.org/about">KA's mission</a></li> <li><a href="https://github.com/khan/engblog/issues">Report a bug</a></li> <li><a id="activate-tota11y" href="javascript: void 0">Activate tota11y</a></li> </ul> </section> </div> <main id="content"> <article class="post"> <h1 class="title"> <a href="/posts/windows-high-contrast-mode.htm"> Making Websites Work with Windows High Contrast Mode </a> </h1> <div class="info"> <img class="inline-author-photo" src="/images/author-icons/diedra.jpg" aria-hidden="true" role="presentation"> <span class="sr-only">by</span> <a class="author-link" href="https://github.com/dierat">Diedra Rater</a> on March 21<sup aria-hidden="true">st</sup> </div> <div class="body"> <p>At Khan Academy, we've been working to make our web product more accessible to a variety of users, including those who experience blurry vision and/or severe color-blindness. Part of this work has involved updating our styling to be able to work well with Windows High Contrast Mode.</p> <p>This project required a little bit of learning via trial-and-error, with a lot of help from our dear friends at <a href="https://www.levelaccess.com/">Level Access</a>, so I wanted to share some of the things we discovered to make it easier for other developers working with accessibility. In this post, you'll learn about how to optimize web applications for the benefit of other users with visual accessibility needs.</p> <h2>What is it and who uses it?</h2> <p>Windows High Contrast Mode is an accessibility settings feature in the Windows operating system. As the name suggests, it changes the visual appearance of everything displayed to have higher contrast. This includes applications that are native to the Windows platform as well as web apps.</p> <p>Khan Academy's logged out homepage without Windows High Contrast Mode:</p> <p><img src="/images/windows-high-contrast-mode/lohp_default.jpg" alt="Screenshot of Khan Academy's logged out homepage without Windows High Contrast Mode. There are light gray borders, light gray backgrounds, a dark blue button, and text of different colors."></p> <p>Khan Academy's logged out homepage with Windows High Contrast Mode:</p> <p><img src="/images/windows-high-contrast-mode/lohp_whc.jpg" alt="Screenshot of Khan Academy's logged out homepage with Windows High Contrast Mode. All the borders are now black, the background colors are white (including buttons), and all of the text is either blue (if it's a link) or black (if it's not a link)."></p> <p>The high contrast version of the web may not be as pretty, but it is easier to see and understand.</p> <p>There are several different versions of Windows High Contrast Mode that can be used. <strong>The examples in this post use High Contrast White.</strong></p> <p><img src="/images/windows-high-contrast-mode/settings.jpg" alt="Screenshot of the Windows High Contrast Mode settings options in Windows. There are four options: 'High Contrast /#1', 'High Contrast /#2', 'High Contrast Black', and 'High Contrast White'. 'High Contrast White' has been selected and the settings is turned on."></p> <h2>What does it do?</h2> <h3>Background colors and images</h3> <p>Background colors and background images are removed and replaced with white.</p> <p>Both of these styles would be overridden:</p> <div class="codehilite"><pre><span class="nt">background-color</span><span class="o">:</span> <span class="nt">lawngreen</span><span class="o">;</span> <span class="c">/* No color for you. */</span>
<span class="nt">background-image</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;cousin_fal.gif&quot;</span><span class="o">);</span> <span class="c">/* No image either. */</span>
</pre></div> <p>(You can see an example of this in #1 of the Comparison section below.)</p> <p>The opacity of background color styles will remain the same, though. The color will just be changed to white.</p> <p>In this code example, the background is set to 50% black. In Windows High Contrast Mode, it will instead be 50% white.</p> <div class="codehilite"><pre><span class="nt">background-color</span><span class="o">:</span> <span class="nt">rgba</span><span class="o">(</span><span class="nt">0</span><span class="o">,</span> <span class="nt">0</span><span class="o">,</span> <span class="nt">0</span><span class="o">,</span> <span class="nt">0</span><span class="nc">.5</span><span class="o">);</span> <span class="c">/* White as the driven snow if the driven show were 50% opacity. */</span>
</pre></div> <h4>Key takeaway</h4> <p>Only use <code>background-color</code> and <code>background-image</code> CSS for decorative styling. Windows High Contrast Mode considers them unnecessary to understand the page.</p> <h3>Border and outline colors</h3> <p>For border colors and outline colors, it actually goes the other way. No matter what color or opacity you set, they'll be set to 100% black in Windows High Contrast Mode.</p> <div class="codehilite"><pre><span class="nt">outline</span><span class="o">:</span> <span class="nt">2px</span> <span class="nt">dotted</span> <span class="nt">lightsalmon</span><span class="o">;</span> <span class="c">/* Black as your heart. */</span>
<span class="nt">border</span><span class="o">:</span> <span class="nt">2px</span> <span class="nt">solid</span> <span class="nt">lavenderblush</span><span class="o">;</span> <span class="c">/* And my coffee. */</span>
</pre></div> <p>(You can see an example of this in #2 of the Comparison section below.)</p> <h4>Key takeaway</h4> <p>Borders and outlines should be functional, not ornamental, because Windows High Contrast Mode retains them. Also, they won't be distinguishable if used to separate black sections created by <code>&lt;img&gt;</code> and SVG elements.</p> <h3><code>&lt;img&gt;</code> and SVG elements</h3> <p><code>&lt;img&gt;</code> and SVG elements are immune and will remain intact.</p> <div class="codehilite"><pre><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;cousin_fal.gif&quot;</span> <span class="na">alt=</span><span class="s">&quot;Cousin Fal&#39;s at it again&quot;</span><span class="nt">&gt;</span> <span class="c">&lt;!-- Impervious to Windows High Contrast Mode. --&gt;</span>
<span class="nt">&lt;svg&gt;</span> ... <span class="nt">&lt;/svg&gt;</span> <span class="c">&lt;!-- An svg of me being too lazy to write an svg example. 1,000,000 defense against Windows High Contrast Mode. --&gt;</span>
</pre></div> <p>(You can see an example of this in #3 of the Comparison section below.)</p> <h4>Key takeaway</h4> <p>Semantic <code>&lt;img&gt;</code> and SVG elements are for important, functional elements. Windows High Contrast Mode assumes they're required to interpret the page.</p> <h3>Font colors</h3> <p>Font colors work the same as border and outline colors but with one more detail — the text element's background will be set to white. This is because the <code>&lt;img&gt;</code> and SVG elements are unchanged. If you have text on top of an <code>&lt;img&gt;</code> or SVG element, the text could become impossible to see if the image were dark when the text becomes black. By forcing the text to be black <em>and</em> have a white background, Windows High Contrast Mode ensures that the user will be able to read the text regardless of what <code>&lt;img&gt;</code> or SVG you may have behind it.</p> <p>In this example, the text will be black with a white background.</p> <div class="codehilite"><pre><span class="nt">color</span><span class="o">:</span> <span class="nt">lemonchiffon</span><span class="o">;</span>
</pre></div> <p>(You can see an example of this in #4 of the Comparison section below.)</p> <h4>Key takeaway</h4> <p>You don't need to worry about text color; it can handle itself.</p> <h3>Comparison</h3> <p>Here's a section of the screenshots of the Khan Academy logged out homepage. Here we can see examples of almost all the ways Windows High Contrast Mode alters our custom styling:</p> <ol> <li>The background color of the dark blue button and the light gray horizontal list of domains below the image are now white.</li> <li>The borders on all three buttons are now black.</li> <li>The image of the sky remains intact because it's been added as an SVG element.</li> <li>All the text on the page has returned to its default browser color (black for non-links and blue for links), and the text on top of the SVG image has a white background.</li> </ol> <p><img src="/images/windows-high-contrast-mode/comparison.jpg" alt="Section of the Khan Academy logged out homepage shown in two versions side by side. On the left side is the default mode, and on the right side is the Windows High Contrast Mode. The section shown includes a button that reads 'Learners, start here'. In the default version, the button has a dark blue background, white text, and no visible outline. In the Windows High Contrast Mode version, the button has a white background, black text, and a black outline. Behind the button is an image of a sky, which is the same in both versions."></p> <h2>Improve web applications in Windows High Contrast Mode — practical examples from our work</h2> <h3>Quick note..</h3> <p>I wanted to mention up-front that there is <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/-ms-high-contrast">a <code>-ms-high-contrast</code> CSS media feature</a> that allows you to detect if the page is being viewed in Windows High Contrast Mode. However, it is non-standard and unreliable; therefore, none of the examples shown here utilize this feature.</p> <h3>Background colors and images</h3> <p>Use HTML <code>&lt;img&gt;</code>s and SVG's instead of <code>background-color</code> and <code>background-image</code> CSS <strong>for important elements in the design</strong>. Windows High Contrast Mode removes these characteristics of the page for a reason, so I don't want to encourage you to override that override altogether. But sometimes there are elements on the page that are visually necessary for users to understand the user interface and interact with it accordingly.</p> <h4>Replacing CSS <code>background-image</code> with an <code>&lt;img&gt;</code> element</h4> <p>Khan Academy video pages enable people to discuss the video, including links to specific points in the video in their comments. We visually communicate that the button jumps to a specific time in the video with a little blue play image to the left of the timestamp. This image was originally added using CSS's <code>background-image</code>. Of course, it was being removed in Windows High Contrast Mode and a big empty space was left instead.</p> <p>To fix this, we removed the <code>background-image</code> from the CSS and added the image back with a <code>img</code> element so it would appear in both default and Windows High Contrast Modes.</p> <h5>Before</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/timestamp_before.jpg" alt="Screenshot of the discussion feature on a video page. There's a post that reads 'At', a blank space, and then '0:23, does the picture display bacteria?'"></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.videoPlayButton</span> <span class="p">{</span>
    <span class="k">background</span><span class="o">:</span> <span class="sx">url(&#39;/images/play.png&#39;)</span> <span class="k">no-repeat</span> <span class="k">left</span><span class="p">;</span>
    <span class="k">padding-left</span><span class="o">:</span> <span class="m">18px</span><span class="p">;</span>
    <span class="k">background</span><span class="o">-</span><span class="k">size</span><span class="o">:</span> <span class="m">14px</span> <span class="m">14px</span><span class="p">;</span>

    <span class="c">/* Non-relevant styling has been removed for simplicity. */</span>
<span class="p">}</span>
</pre></div> <p>JSX:</p> <div class="codehilite"><pre>// This is the same in both versions.
const timestamp = &quot;3:14&quot;; // Just for an example, to simplify this code.
const timestampAria = `<span class="cp">${</span><span class="n">timestamp</span><span class="cp">}</span> Click to jump to <span class="cp">${</span><span class="n">timestamp</span><span class="cp">}</span> in video`;

return (
    <span class="nt">&lt;button</span> <span class="na">className=</span><span class="s">&#39;videoPlayButton&#39;</span> <span class="na">aria-label=</span><span class="s">{timestampAria}</span><span class="nt">&gt;</span>
        {timestamp}
    <span class="nt">&lt;/button&gt;</span>
);
</pre></div> <h5>After</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/timestamp_after.jpg" alt="Screenshot of the discussion feature on a video page. There's a post that reads 'At', a little blue play icon, and then '0:23, does the picture display bacteria?'"></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.videoPlayButton</span> <span class="p">{</span>
    <span class="c">/* Non-relevant styling has been removed for simplicity. */</span>
<span class="p">}</span>
<span class="nc">.videoPlayIcon</span> <span class="p">{</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">14px</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">14px</span><span class="p">;</span>
    <span class="k">margin-top</span><span class="o">:</span> <span class="m">-4px</span><span class="p">;</span>
    <span class="k">vertical-align</span><span class="o">:</span> <span class="k">middle</span><span class="p">;</span>
<span class="p">}</span>
</pre></div> <p>JSX:</p> <div class="codehilite"><pre>// This is the same in both versions.
const timestamp = &quot;3:14&quot;; // Just for an example, to simplify this code.
const timestampAria = `<span class="cp">${</span><span class="n">timestamp</span><span class="cp">}</span> Click to jump to <span class="cp">${</span><span class="n">timestamp</span><span class="cp">}</span> in video`;

const playIcon = `<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;/images/play.png&quot;</span> <span class="na">className=</span><span class="s">&quot;youTubePlayIcon&quot;</span> <span class="nt">/&gt;</span>`;

return (
    <span class="nt">&lt;button</span> <span class="na">className=</span><span class="s">&#39;videoPlayButton&#39;</span> <span class="na">aria-label=</span><span class="s">{timestampAria}</span><span class="nt">&gt;</span>
        {playIcon} {timestamp}
    <span class="nt">&lt;/button&gt;</span>
);
</pre></div> <h4>Replacing CSS <code>background-color</code> with an SVG element</h4> <p>Above the discussions feature on video pages, the video itself has a large play button on top. The actual play icon is an SVG HTML element, but it's white, and the color for the area around it was added using <code>background-color</code> CSS. Of course, in Windows High Contrast Mode, the <code>background-color</code> CSS was removed and replaced with white, which left users with a white icon on a white background. Oops!</p> <p>There are a couple of different ways to fix this, but, in this case, we chose to replace the element behind the icon with another SVG, which would retain its color. (Another option would be to allow the color of the SVG element to be overridden, which is illustrated in the next example.)</p> <h5>Before</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/playbutton_before.jpg" alt="Screenshot of a video page. On top of the video, there's a big white circle with a black outline."></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.playButton</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="o">:</span> <span class="m">#1865f2</span><span class="p">;</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">121px</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">121px</span><span class="p">;</span>

    <span class="c">/* Non-relevant styling has been removed for simplicity. */</span>
<span class="p">}</span>
</pre></div> <p>JSX:</p> <div class="codehilite"><pre>// This is the same in both examples.
const playIcon = `M1.6,9.9C1.5,10,1.3,10,1.2,10C1.1,10,1,10,0.9,9.9C0.7,9.8,0.6,9.6,
    0.6,9.4V0.6c0-0.2,0.2-0.4,0.4-0.5C1.1,0,1.4,0,1.6,0.1l7.6,4.5c0.2,0.1,
    0.3,0.3,0.3,0.5c0,0.2-0.1,0.4-0.3,0.5L1.6,9.9z`;

const PLAY_BUTTON_DIAMETER = 44;

<span class="nt">&lt;button</span>
    <span class="na">aria-label=</span><span class="s">&quot;Play video&quot;</span>
    <span class="na">className=</span><span class="s">&quot;playButton&quot;</span>
    <span class="na">onClick=</span><span class="s">{this.handlePlayButtonClick}</span>
<span class="nt">&gt;</span>
    <span class="nt">&lt;svg</span>
        <span class="na">height=</span><span class="s">{PLAY_BUTTON_DIAMETER}</span>
        <span class="na">width=</span><span class="s">{PLAY_BUTTON_DIAMETER}</span>
    <span class="nt">&gt;</span>
        <span class="nt">&lt;path</span>
            <span class="na">d=</span><span class="s">{playIcon}</span>
            <span class="na">fill=</span><span class="s">{Color.white}</span>
            <span class="na">transform=</span><span class="s">&quot;scale(4.375, 4.375) translate(9.75, 8.25)&quot;</span>
        <span class="nt">/&gt;</span>
    <span class="nt">&lt;/svg&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</pre></div> <h5>After</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/playbutton_after.jpg" alt="Screenshot of a video page. On top of the video, there's a big white circle with a black outline and a blue play icon in the middle of the white circle."></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.playButton</span> <span class="p">{</span>
    <span class="c">/* Non-relevant styling has been removed for simplicity. */</span>
<span class="p">}</span>
</pre></div> <p>JSX:</p> <div class="codehilite"><pre>// This is the same in both examples.
const playIcon = `M1.6,9.9C1.5,10,1.3,10,1.2,10C1.1,10,1,10,0.9,9.9C0.7,9.8,0.6,9.6,
    0.6,9.4V0.6c0-0.2,0.2-0.4,0.4-0.5C1.1,0,1.4,0,1.6,0.1l7.6,4.5c0.2,0.1,
    0.3,0.3,0.3,0.5c0,0.2-0.1,0.4-0.3,0.5L1.6,9.9z`;

const PLAY_BUTTON_DIAMETER = 121;
const PLAY_BUTTON_RADIUS = Math.floor(PLAY_BUTTON_DIAMETER / 2);

<span class="nt">&lt;button</span>
    <span class="na">aria-label=</span><span class="s">&quot;Play video&quot;</span>
    <span class="na">className=</span><span class="s">&quot;playButton&quot;</span>
    <span class="na">onClick=</span><span class="s">{this.handlePlayButtonClick}</span>
<span class="nt">&gt;</span>
    <span class="nt">&lt;svg</span>
        <span class="na">height=</span><span class="s">{PLAY_BUTTON_DIAMETER}</span>
        <span class="na">width=</span><span class="s">{PLAY_BUTTON_DIAMETER}</span>
    <span class="nt">&gt;</span>
        <span class="nt">&lt;circle</span>
            <span class="na">cx=</span><span class="s">{PLAY_BUTTON_RADIUS}</span>
            <span class="na">cy=</span><span class="s">{PLAY_BUTTON_RADIUS}</span>
            <span class="na">r=</span><span class="s">{PLAY_BUTTON_RADIUS}</span>
            <span class="na">stroke=</span><span class="s">&quot;#fff&quot;</span>
            <span class="na">strokeWidth=</span><span class="s">&quot;1&quot;</span>
            <span class="na">fill=</span><span class="s">&quot;#1865f2&quot;</span>
        <span class="nt">/&gt;</span>
        <span class="nt">&lt;path</span> <span class="na">d=</span><span class="s">{playIcon}</span> <span class="na">fill=</span><span class="s">&quot;#fff&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/svg&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</pre></div> <h4>Add CSS <code>background-color</code> via a pseudo-element</h4> <p>You can also force the <code>background-color</code> CSS to remain by adding it to a pseudo-element. This isn't a tactic that we happened to use, but it is available if necessary.</p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.element</span><span class="nd">:after</span> <span class="p">{</span>
  <span class="k">content</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="n">someothercsscolornameyoudidntknowexisted</span><span class="p">;</span>
<span class="p">}</span>
</pre></div> <h4>Allowing the SVG color to be overridden using <code>fillColor</code></h4> <p>The colors of SVG's will remain intact in Windows High Contrast Mode, but only if the colors are set directly on <code>fill</code>. If the <code>svg</code> image is white in your design, you should avoid setting that white color using <code>fill: yourColor</code>. Instead set <code>fill</code> to <code>currentColor</code> and set the <code>color</code> on a wrapper element. Then, in Windows High Contrast Mode, the <code>color</code> will be set to black and the <code>svg</code> will adjust accordingly.</p> <p>Here's an example of one place where we fixed this — the logo in the global header on Khan Academy.</p> <h5>Before</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/logo_before.jpg" alt="Screenshot of the global header at the top of the Khan Academy website. The header is white. In the center of the header is the Khan Academy logo icon, which is green. To the right of the logo icon is a blank space."></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.logoSvg</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>
</pre></div> <p>JSX:</p> <div class="codehilite"><pre>return (
    <span class="nt">&lt;a</span> <span class="na">aria-label=</span><span class="s">&quot;Khan Academy&quot;</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;svg</span> <span class="na">className=</span><span class="s">&quot;logoSvg&quot;</span> <span class="na">aria-hidden=</span><span class="s">{true}</span><span class="nt">&gt;</span>...<span class="nt">&lt;/svg&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
);
</pre></div> <h5>After</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/logo_after.jpg" alt="Screenshot of the global header at the top of the Khan Academy website. The header is white. In the center of the header is the Khan Academy logo icon, which is green. To the right of the logo icon is dark blue text that reads 'Khan Academy'."></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.logoLink</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.logoSvg</span> <span class="p">{</span>
    <span class="n">fill</span><span class="o">:</span> <span class="n">currentColor</span><span class="p">;</span>
<span class="p">}</span>
</pre></div> <p>JSX:</p> <div class="codehilite"><pre>return (
    <span class="nt">&lt;a</span> <span class="na">className=</span><span class="s">&quot;logoLink&quot;</span> <span class="na">aria-label=</span><span class="s">&quot;Khan Academy&quot;</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;svg</span> <span class="na">className=</span><span class="s">&quot;logoSvg&quot;</span> <span class="na">aria-hidden=</span><span class="s">{true}</span><span class="nt">&gt;</span>...<span class="nt">&lt;/svg&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
);
</pre></div> <h4>Border and outline colors</h4> <p>Use invisible borders and outlines to visually define edges of elements that are created through different background colors laid against each other. Since borders and outlines are automatically set to 100% opacity black, you can make them 0% opacity in default mode so they will only appear in Windows High Contrast Mode. Borders can have rounded edges and be restricted to specific sides, but they increase the size of the element. To avoid affecting the design in default mode, if you're retrofitting an existing design, you might want to use an <code>outline</code>.</p> <p>This is something we encountered with our sign up/login modals, which are visually defined based on their light background colors against the dark partially-transparent backdrop.</p> <p>(Side-note: Here you can see an example of a partially-transparent background color being set to white but with the same opacity as in the original CSS.)</p> <h5>Before</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/modal_before.jpg" alt="Screenshot of a Khan Academy video page. The page is has a partially transparent white veil over it. In the center of the page is a big white rectangle. In the rectangle is a login form. The white rectangle has no outline."></p> <h5>After</h5> <p>Screenshot:</p> <p><img src="/images/windows-high-contrast-mode/modal_after.jpg" alt="Screenshot of a Khan Academy video page. The page is has a partially transparent white veil over it. In the center of the page is a big white rectangle. In the rectangle is a login form. The white rectangle has a black outline."></p> <p>CSS:</p> <div class="codehilite"><pre><span class="nc">.modal</span> <span class="p">{</span>
    <span class="k">border</span><span class="o">:</span> <span class="m">1px</span> <span class="k">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div> <h2>Summary</h2> <p>In the end, the best approach to accessibility that I've found is to follow the web development standards when possible.</p> <ol> <li><strong>Use semantic HTML for elements and CSS for styling.</strong> If an image is decorative, use <code>background-image</code> CSS. If an image is imperative for all users to see, use an <code>&lt;img&gt;</code> or SVG element (with appropriate <code>alt</code> text). If the element links to something, use an <code>&lt;a&gt;</code> element. Following these standardized patterns will get you most of the way for Windows High Contrast Mode (as well as screen readers and keyboard navigation too).</li> <li><strong>Be careful when overriding default styling.</strong> When you override the default styling for an element (for example the focus outline, text decoration, or border on interactive elements), it has an effect that may be invisible to you based on your specific testing environment. Consider making the style invisible using 0% opacity color instead of removing it altogether.</li> </ol> <h2>Questions / comments / sweet memes?</h2> <p>You can reach out to us on <a href="https://twitter.com/khanacademy/">Twitter</a> or <a href="https://khanacademy.zendesk.com/hc/en-us">send us a support ticket</a>!</p> <p>Thank you for reading this post (or at least scrolling to the end)! I hope that it's been educational to you in some way and helps in your journey to make the web a better place.</p> <p>Onward!</p> </div> </article> <div class="keep-reading-buttons"> <div class="keep-reading-cell keep-reading-left"> <div class="button prev-post-button team-content-platform"> <div class="header">previous post</div> <a href="/posts/kotlin-for-python-developers.htm" class="post-title">Kotlin for Python developers</a> </div> </div> <div class="keep-reading-cell keep-reading-right"> <div class="button next-post-button team-engineering"> <div class="header">next post</div> <a href="/posts/eng-principles-help-scale.htm" class="post-title">How Engineering Principles Can Help You Scale</a> </div> </div> </div> </main> <script>document.getElementById("mobile-menu-button").onclick=function(){var e=document.body,t=document.getElementById("left-bar"),a=document.getElementById("content");"mobile-visible"===t.className?(e.className="",t.className="",a.className=""):(e.className="mobile-menu-visible",t.className="mobile-visible",a.className="mobile-hidden")};var totallyActivated=!1;document.getElementById("activate-tota11y").onclick=function(){if(totallyActivated)console.log("Tota11y already activated. Doing nothing.");else{var e=document.createElement("script");e.src="/javascript/tota11y.min.js",document.head.appendChild(e),totallyActivated=!0}},function(e,t,a,n,c,l,o){e.GoogleAnalyticsObject=c,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,l=t.createElement(a),o=t.getElementsByTagName(a)[0],l.async=1,l.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(l,o)}(window,document,"script",0,"ga"),ga("create","UA-65856931-1","auto"),ga("send","pageview");</script> </body> </html> 